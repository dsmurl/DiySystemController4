<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>The System Controller 4 by dsmurl</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">The System Controller 4</h1>
      <h2 class="project-tagline">The working code of the The System Conroller 4 designed for grass roots industrial systems management.</h2>
      <a href="https://github.com/dsmurl/TheSystemController4" class="btn">View on GitHub</a>
      <a href="https://github.com/dsmurl/TheSystemController4/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/dsmurl/TheSystemController4/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="thank-you" class="anchor" href="#thank-you" aria-hidden="true"><span class="octicon octicon-link"></span></a>Thank you</h1>

<p>Welcome to the The System Controller 4 project page.  I am <a href="https://github.com/dsmurl" class="user-mention">@dsmurl</a>.  This project is designed for making an affordable, DIY, easily configurable system controller for small or large scale industrial projects.  It's a controller of defined devices with a rule based decision engine based off defined rules around readings of defined sensors.  It can be used for anything from controlling an automated garden, to an aquaponics setup, to a coffee roasting setup, to running any refinery work-flow.  I want to thank my friend <a href="https://github.com/faisalraja" class="user-mention">@faisalraja</a> for his contributions so far and the community for their continued interest and support.  </p>

<h1>
<a id="install-the-code-on-a-beaglebone-black-and-get-the-application-running" class="anchor" href="#install-the-code-on-a-beaglebone-black-and-get-the-application-running" aria-hidden="true"><span class="octicon octicon-link"></span></a>Install the code on a BeagleBone Black and get the application running</h1>

<p>To ssh in, plug in BeagleBone via USB and then:</p>

<pre><code>ssh root@192.168.7.2
</code></pre>

<p>Change root to password, ssh in as root then:</p>

<pre><code>:&gt; passwd
</code></pre>

<p>Add a personal user/password and add them to the admin group.  admin is needed to have sudo rights:</p>

<pre><code>:&gt; adduser USERNAME
:&gt; usermod -a -G admin USERNAME
</code></pre>

<p>Also, you will want to add this user to the sudoers file with the following commands:</p>

<pre><code>:&gt; sudo adduser USERNAME sudo
</code></pre>

<p>Make the networking through the router work.  Change the networking over to primary eth0 availability by editing /etc/network/interfaces.  Edit the primary section to look like this:</p>

<pre><code># The primary network interface
allow-hotplug eth0
iface eth0 inet static
    address 192.168.0.50
    netmask 255.255.255.0
    gateway 192.168.0.1
</code></pre>

<p>Now take the Beaglebone off the USB connection and add power to from the AC adapter and give it a hard line connection to your network router.  </p>

<p>It needs it's own network address and internet access at this point to continue to install the code and the dependencies.  The USB connection has trouble providing the BeagleBone with outer web.</p>

<p>So, now we can shell into the BeagleBone with the USERNAME and password you created above.  You will need to also remember the address line that you added to the /etc/network/interfaces file.  Shell into the BeagleBone now like this:</p>

<pre><code>:&gt; ssh USERNAME@IP_ADDRESS_YOU_SET
</code></pre>

<p>Once you are in, set the correct time:</p>

<pre><code>:&gt; sudo ntpdate pool.ntp.org
</code></pre>

<p>Install the python pin IO library dependencies.  Turns on and off pins, reads analog input
pins from python:</p>

<pre><code>:&gt; sudo apt-get update
:&gt; sudo apt-get install build-essential python-setuptools python-pip python-smbus
</code></pre>

<p>Install the IO lib through pip and other dependencies.  This took around 10 minutes on my BeagleBone so don't think it crashed.</p>

<pre><code>:&gt; sudo pip install Adafruit_BBIO gevent webapp2 webob python-memcached ws4py jinja2 peewee
</code></pre>

<p>Test your install with:</p>

<pre><code>:&gt; sudo python -c "import Adafruit_BBIO.GPIO as GPIO; print GPIO"
</code></pre>

<p>Should result in:</p>

<pre><code>&lt;module 'Adafruit_BBIO.GPIO' from '/usr/local/lib/python2.7/dist-packages/Adafruit_BBIO/GPIO.so'&gt;
</code></pre>

<p>Disable Apache2 ( or get it off listening to port 8080):</p>

<pre><code>:&gt; update-rc.d apache2 disable
</code></pre>

<p>Also, turn Apache2 off so that we can run our code through 8080 soon:</p>

<pre><code>:&gt; sudo service apache2 stop
</code></pre>

<p>For later reference, you can add the apache auto-start back in with:</p>

<pre><code>:&gt; update-rc.d apache2 enable
</code></pre>

<p>Install the code.  Find the revision you want on GitHub.com and git clone the current code or preferred revision, like:</p>

<pre><code>:&gt; git clone https://github.com/dsmurl/DiySystemController4.git
</code></pre>

<p>Run the code and check the site:</p>

<pre><code>:&gt; cd DiySystemController4
:&gt; sudo python wsgi.py
</code></pre>

<p>Run with debug logging by adding --log_level=debug</p>

<pre><code>:&gt; sudo python wsgi.py --log_level=debug
</code></pre>

<h1>
<a id="check-back-for-updates" class="anchor" href="#check-back-for-updates" aria-hidden="true"><span class="octicon octicon-link"></span></a>Check back for updates!!!</h1>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/dsmurl/TheSystemController4">The System Controller 4</a> is maintained by <a href="https://github.com/dsmurl">dsmurl</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
